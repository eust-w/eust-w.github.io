---
layout: post
tags: 网络
---



驱动程序（Device Driver）全称为“设备驱动程序”，是一种可以使计算机中央处理器——CPU控制和使用设备的特殊程序，相当于硬件的接口，操作系统通过这个接口，控制硬件设备的工作。

网卡设备与字符设备和块设备不同， 网络设备并不对应于/dev目录下的文件,不过会存放在/sys/class/net目录下



Linux系统对网络设备驱动定义了4个层次， 这4个层次到下分为:

网络协议接口层:

实现统一的数据包收发的协议,该层主要负责调用dev_queue_xmit()函数发送数据， netif_rx()函数接收数据

网络设备接口层:

通过net_device结构体来描述一个具体的网络设备的信息,实现不同的硬件的统一

设备驱动功能层：

用来负责驱动网络设备硬件来完成各个功能, 它通过hard_start_xmit() 函数启动发送操作， 并通过网络设备上的中断触发接收操作,

网络设备与媒介层：

用来负责完成数据包发送和接收的物理实体, 设备驱动功能层的函数都在这物理上驱动的

**层次结构如下图所示:**

![img](https://images2017.cnblogs.com/blog/1182576/201710/1182576-20171031190853498-1599050801.png)